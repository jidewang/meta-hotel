{"version":3,"file":"js/app.bda76693.js","mappings":"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","sources":["webpack://meta-city/./src/App.vue","webpack://meta-city/./src/App.vue?7ccd","webpack://meta-city/./src/three/Clouds.js","webpack://meta-city/./src/three/Ocean.js","webpack://meta-city/./src/three/Physics.js","webpack://meta-city/./src/three/VideoPlane.js","webpack://meta-city/./src/three/LightCircle.js","webpack://meta-city/./src/three/CanvasPlane.js","webpack://meta-city/./src/three/TextVideo.js","webpack://meta-city/./src/three/FireSprite.js","webpack://meta-city/./src/three/index.js","webpack://meta-city/./src/utils/eventHub.js","webpack://meta-city/./src/views/HomeView.vue","webpack://meta-city/./src/views/HomeView.vue?1da1","webpack://meta-city/./src/router/index.js","webpack://meta-city/./src/store/index.js","webpack://meta-city/./src/main.js","webpack://meta-city/./src/three/shader/FireSprite/fragment.glsl","webpack://meta-city/webpack/bootstrap","webpack://meta-city/webpack/runtime/chunk loaded","webpack://meta-city/webpack/runtime/compat get default export","webpack://meta-city/webpack/runtime/define property getters","webpack://meta-city/webpack/runtime/ensure chunk","webpack://meta-city/webpack/runtime/get javascript chunk filename","webpack://meta-city/webpack/runtime/get mini-css chunk filename","webpack://meta-city/webpack/runtime/global","webpack://meta-city/webpack/runtime/hasOwnProperty shorthand","webpack://meta-city/webpack/runtime/load script","webpack://meta-city/webpack/runtime/make namespace object","webpack://meta-city/webpack/runtime/publicPath","webpack://meta-city/webpack/runtime/jsonp chunk loading","webpack://meta-city/webpack/startup"],"sourcesContent":["<template>\n  <router-view></router-view>\n</template>\n\n<style lang=\"less\">\n* {\n  margin: 0;\n  padding: 0;\n  height: 100vh;\n  width: 100vw;\n}\n\nbody {\n  background-color: #1e1a20;\n}\n::-webkit-scrollbar {\n  display: none;\n}\n</style>\n","import { render } from \"./App.vue?vue&type=template&id=5be4e069\"\nconst script = {}\n\nimport \"./App.vue?vue&type=style&index=0&id=5be4e069&lang=less\"\n\nimport exportComponent from \"D:\\\\程序开发\\\\web项目\\\\webgl\\\\元宇宙未来智慧城\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { number } from \"echarts\";\r\nimport * as THREE from \"three\";\r\nimport gsap from \"gsap\";\r\n\r\n// 第一种实现方式\r\nexport class Clouds {\r\n  // height设置云朵的高度，num设置云朵的数量\r\n  constructor(\r\n    height = 10,\r\n    num = 300,\r\n    size = 15,\r\n    scale = 10,\r\n    autoRotate = true\r\n  ) {\r\n    let textureLoader = new THREE.TextureLoader();\r\n    const map1 = textureLoader.load(\"./textures/cloud/cloud1.jfif\");\r\n    const map2 = textureLoader.load(\"./textures/cloud/cloud2.jfif\");\r\n    const map3 = textureLoader.load(\"./textures/cloud/cloud3.jpg\");\r\n\r\n    let material1 = new THREE.SpriteMaterial({\r\n      map: map2,\r\n      color: 0xffffff,\r\n      alphaMap: map1,\r\n      transparent: true,\r\n      blending: THREE.AdditiveBlending,\r\n      depthWrite: false,\r\n      depthTest: false,\r\n    });\r\n    let material2 = new THREE.SpriteMaterial({\r\n      map: map3,\r\n      color: 0xffffff,\r\n      alphaMap: map2,\r\n      transparent: true,\r\n      blending: THREE.AdditiveBlending,\r\n      depthWrite: false,\r\n      depthTest: false,\r\n    });\r\n    let material3 = new THREE.SpriteMaterial({\r\n      map: map1,\r\n      color: 0xffffff,\r\n      alphaMap: map3,\r\n      transparent: true,\r\n      blending: THREE.AdditiveBlending,\r\n      depthWrite: false,\r\n      depthTest: false,\r\n    });\r\n\r\n    this.materials = [material1, material2, material3];\r\n    this.mesh = new THREE.Group();\r\n    for (let i = 0; i < num; i++) {\r\n      let index = Math.floor(Math.random() * 3);\r\n      let material = this.materials[index];\r\n      let sprite = new THREE.Sprite(material);\r\n      // 随机设置精灵的大小\r\n      let randomSize = Math.random() * size;\r\n      sprite.scale.set(randomSize, randomSize, randomSize);\r\n      // 随机设置精灵的位置\r\n      let randomX = (Math.random() - 0.5) * 2 * scale;\r\n      let randomY = Math.random() * (height / 2) + height;\r\n      let randomZ = (Math.random() - 0.5) * 2 * scale;\r\n      sprite.position.set(randomX, randomY, randomZ);\r\n      this.mesh.add(sprite);\r\n    }\r\n    if (autoRotate) {\r\n      this.animate();\r\n    }\r\n  }\r\n  animate() {\r\n    gsap.to(this.mesh.rotation, {\r\n      duration: 120,\r\n      repeat: -1,\r\n      y: Math.PI * 2,\r\n    });\r\n  }\r\n}\r\n\r\nexport class CloudsPlus {\r\n  // height设置云朵的高度，num设置云朵的数量\r\n  constructor(\r\n    height = 20,\r\n    num = 100,\r\n    size = 400,\r\n    scale = 100,\r\n    autoRotate = true\r\n  ) {\r\n    this.height = height;\r\n    this.num = num;\r\n    this.size = size;\r\n    this.scale = scale;\r\n    this.autoRotate = autoRotate;\r\n    let textureLoader = new THREE.TextureLoader();\r\n    const map1 = textureLoader.load(\"./textures/cloud/cloud1.jfif\");\r\n    const map2 = textureLoader.load(\"./textures/cloud/cloud2.jfif\");\r\n    const map3 = textureLoader.load(\"./textures/cloud/cloud3.jpg\");\r\n\r\n    let materials = [];\r\n\r\n    let material1 = new THREE.PointsMaterial({\r\n      map: map1,\r\n      color: 0xffffff,\r\n      alphaMap: map2,\r\n      transparent: true,\r\n      blending: THREE.AdditiveBlending,\r\n      depthWrite: false,\r\n      depthTest: false,\r\n      size: 0.2 * size,\r\n    });\r\n    let material2 = new THREE.PointsMaterial({\r\n      map: map2,\r\n      color: 0xffffff,\r\n      alphaMap: map3,\r\n      transparent: true,\r\n      blending: THREE.AdditiveBlending,\r\n      depthWrite: false,\r\n      depthTest: false,\r\n      size: 0.5 * size,\r\n    });\r\n    let material3 = new THREE.PointsMaterial({\r\n      map: map3,\r\n      color: 0xffffff,\r\n      alphaMap: map1,\r\n      transparent: true,\r\n      blending: THREE.AdditiveBlending,\r\n      depthWrite: false,\r\n      depthTest: false,\r\n      size: 0.8 * size,\r\n    });\r\n    let material4 = new THREE.PointsMaterial({\r\n      map: map2,\r\n      color: 0xffffff,\r\n      alphaMap: map1,\r\n      transparent: true,\r\n      blending: THREE.AdditiveBlending,\r\n      depthWrite: false,\r\n      depthTest: false,\r\n      size: 1 * size,\r\n    });\r\n    materials.push(material1, material2, material3, material4);\r\n    this.mesh = new THREE.Group();\r\n\r\n    for (let i = 0; i < materials.length; i++) {\r\n      let material = materials[i];\r\n      let geometry = this.generateGeometry(this.num);\r\n      let points = new THREE.Points(geometry, material);\r\n\r\n      this.mesh.add(points);\r\n    }\r\n    if (autoRotate) {\r\n      this.animate();\r\n    }\r\n  }\r\n  generateGeometry(num = 300) {\r\n    const vertices = [];\r\n    // 创建点位置\r\n    for (let i = 0; i < num; i++) {\r\n      // 随机设置精灵的位置\r\n      let randomX = (Math.random() - 0.5) * 2 * this.scale;\r\n      let randomY = Math.random() * (this.height / 2) + this.height;\r\n      let randomZ = (Math.random() - 0.5) * 2 * this.scale;\r\n      vertices.push(randomX, randomY, randomZ);\r\n    }\r\n    const geometry = new THREE.BufferGeometry();\r\n    geometry.setAttribute(\r\n      \"position\",\r\n      new THREE.Float32BufferAttribute(vertices, 3)\r\n    );\r\n    return geometry;\r\n  }\r\n  animate() {\r\n    let i = 1;\r\n    this.mesh.traverse((item) => {\r\n      let speed = 40 * i;\r\n\r\n      if (item instanceof THREE.Points) {\r\n        // console.log(speed);\r\n        gsap.to(item.rotation, {\r\n          duration: speed,\r\n          repeat: -1,\r\n          y: Math.PI * 2,\r\n        });\r\n      }\r\n      i++;\r\n    });\r\n  }\r\n}\r\n","import * as THREE from \"three\";\r\nimport gsap from \"gsap\";\r\nimport { Water } from \"three/examples/jsm/objects/Water2.js\";\r\n\r\nexport default class Ocean {\r\n  constructor(radius = 1000) {\r\n    // 创建水平\r\n    this.waterGeometry = new THREE.CircleBufferGeometry(radius, 128);\r\n    this.water = new Water(this.waterGeometry, {\r\n      textureWidth: 1024,\r\n      textureHeight: 1024,\r\n      color: 0x08dbea,\r\n      flowDirection: new THREE.Vector2(1, 1),\r\n      scale: 100,\r\n    });\r\n    this.water.position.y = -5;\r\n    this.water.rotation.x = -Math.PI / 2;\r\n    this.mesh = this.water;\r\n    this.water.renderOrder = -1;\r\n\r\n    // 修改水面的颜色\r\n    // console.log(this.water.material.fragmentShader);\r\n    this.water.material.fragmentShader =\r\n      this.water.material.fragmentShader.replace(\r\n        \"gl_FragColor = vec4( color, 1.0 ) * mix( refractColor, reflectColor, reflectance );\",\r\n        `\r\n        gl_FragColor = vec4( color, 1.0 ) * mix( refractColor, reflectColor, reflectance );\r\n        gl_FragColor = mix( gl_FragColor, vec4( 0.05, 0.3, 0.7, 1.0 ), vToEye.z*0.0005+0.5 );\r\n        \r\n        `\r\n      );\r\n  }\r\n}\r\n","import * as THREE from \"three\";\r\nimport gsap from \"gsap\";\r\nimport { Octree } from \"three/examples/jsm/math/Octree.js\";\r\nimport { OctreeHelper } from \"three/examples/jsm/helpers/OctreeHelper.js\";\r\n\r\nimport { Capsule } from \"three/examples/jsm/math/Capsule.js\";\r\nimport { GLTFLoader } from \"three/examples/jsm/loaders/GLTFLoader.js\";\r\nexport default class Physics {\r\n  constructor(planeGroup, camera, scene) {\r\n    this.eventPositionList = [];\r\n    this.worldOctree = new Octree();\r\n    this.worldOctree.fromGraphNode(planeGroup);\r\n\r\n    // 创建一个octreeHelper\r\n    // const octreeHelper = new OctreeHelper(worldOctree);\r\n    // scene.add(octreeHelper);\r\n\r\n    // 创建一个人的碰撞体\r\n    this.playerCollider = new Capsule(\r\n      new THREE.Vector3(0, 0.35, 0),\r\n      new THREE.Vector3(0, 1.35, 0),\r\n      0.35\r\n    );\r\n    // 加载机器人模型\r\n    const loader = new GLTFLoader();\r\n    // 设置动作混合器\r\n    this.mixer = null;\r\n    this.actions = {};\r\n    // 设置激活动作\r\n    this.activeAction = null;\r\n    loader.load(\"./model/RobotExpressive.glb\", (gltf) => {\r\n      this.robot = gltf.scene;\r\n      this.robot.scale.set(0.5, 0.5, 0.5);\r\n      this.robot.position.set(0, -0.88, 0);\r\n\r\n      // console.log(gltf);\r\n      this.capsule.add(this.robot);\r\n      this.mixer = new THREE.AnimationMixer(this.robot);\r\n      for (let i = 0; i < gltf.animations.length; i++) {\r\n        let name = gltf.animations[i].name;\r\n        this.actions[name] = this.mixer.clipAction(gltf.animations[i]);\r\n        if (name == \"Idle\" || name == \"Walking\" || name == \"Running\") {\r\n          this.actions[name].clampWhenFinished = false;\r\n          this.actions[name].loop = THREE.LoopRepeat;\r\n        } else {\r\n          this.actions[name].clampWhenFinished = true;\r\n          this.actions[name].loop = THREE.LoopOnce;\r\n        }\r\n      }\r\n      this.activeAction = this.actions[\"Idle\"];\r\n      this.activeAction.play();\r\n      console.log(this.actions);\r\n    });\r\n\r\n    this.capsule = new THREE.Object3D();\r\n    this.capsule.position.set(0, 0.85, 0);\r\n    const backCamera = new THREE.PerspectiveCamera(\r\n      70,\r\n      window.innerWidth / window.innerHeight,\r\n      0.001,\r\n      1000\r\n    );\r\n    // 将相机作为胶囊的子元素，就可以实现跟随\r\n    camera.position.set(0, 2, -5);\r\n    camera.lookAt(this.capsule.position);\r\n    backCamera.position.set(0, 2, 5);\r\n    backCamera.lookAt(this.capsule.position);\r\n    // controls.target = capsule.position;\r\n    // 控制旋转上下的空3d对象\r\n    this.capsuleBodyControl = new THREE.Object3D();\r\n    this.capsuleBodyControl.add(camera);\r\n    this.capsuleBodyControl.add(backCamera);\r\n    this.capsule.add(this.capsuleBodyControl);\r\n\r\n    // capsule.add(capsuleBody);\r\n\r\n    scene.add(this.capsule);\r\n\r\n    // 设置重力\r\n    this.gravity = -9.8;\r\n    // 玩家的速度\r\n    this.playerVelocity = new THREE.Vector3(0, 0, 0);\r\n    // 方向向量\r\n    this.playerDirection = new THREE.Vector3(0, 0, 0);\r\n    // 键盘按下事件\r\n    this.keyStates = {\r\n      KeyW: false,\r\n      KeyA: false,\r\n      KeyS: false,\r\n      KeyD: false,\r\n      Space: false,\r\n      isDown: false,\r\n    };\r\n\r\n    // 玩家是否在地面上\r\n    this.playerOnFloor = false;\r\n\r\n    // 根据键盘按下的键来更新键盘的状态\r\n    document.addEventListener(\r\n      \"keydown\",\r\n      (event) => {\r\n        // console.log(event.code);\r\n        this.keyStates[event.code] = true;\r\n        this.keyStates.isDown = true;\r\n      },\r\n      false\r\n    );\r\n    document.addEventListener(\r\n      \"keyup\",\r\n      (event) => {\r\n        this.keyStates[event.code] = false;\r\n        this.keyStates.isDown = false;\r\n        if (event.code === \"KeyV\") {\r\n          this.activeCamera =\r\n            this.activeCamera === camera ? backCamera : camera;\r\n        }\r\n        if (event.code === \"KeyT\") {\r\n          // 打招呼\r\n          this.fadeToAction(\"Wave\");\r\n        }\r\n      },\r\n      false\r\n    );\r\n    document.addEventListener(\r\n      \"mousedown\",\r\n      (event) => {\r\n        // 锁定鼠标指针\r\n        document.body.requestPointerLock();\r\n      },\r\n      false\r\n    );\r\n    // 根据鼠标在屏幕移动，来旋转胶囊\r\n    window.addEventListener(\r\n      \"mousemove\",\r\n      (event) => {\r\n        this.capsule.rotation.y -= event.movementX * 0.003;\r\n\r\n        this.capsuleBodyControl.rotation.x += event.movementY * 0.003;\r\n        if (this.capsuleBodyControl.rotation.x > Math.PI / 8) {\r\n          this.capsuleBodyControl.rotation.x = Math.PI / 8;\r\n        } else if (this.capsuleBodyControl.rotation.x < -Math.PI / 8) {\r\n          this.capsuleBodyControl.rotation.x = -Math.PI / 8;\r\n        }\r\n      },\r\n      false\r\n    );\r\n  }\r\n  updatePlayer(deltaTime) {\r\n    let damping = -0.25;\r\n    if (this.playerOnFloor) {\r\n      this.playerVelocity.y = 0;\r\n\r\n      this.keyStates.isDown ||\r\n        this.playerVelocity.addScaledVector(this.playerVelocity, damping);\r\n    } else {\r\n      this.playerVelocity.y += this.gravity * deltaTime;\r\n    }\r\n\r\n    // console.log(playerVelocity);\r\n    // 计算玩家移动的距离\r\n    const playerMoveDistance = this.playerVelocity\r\n      .clone()\r\n      .multiplyScalar(deltaTime);\r\n    this.playerCollider.translate(playerMoveDistance);\r\n    // 将胶囊的位置进行设置\r\n    this.playerCollider.getCenter(this.capsule.position);\r\n\r\n    // 进行碰撞检测\r\n    this.playerCollisions();\r\n\r\n    // console.log(Math.abs(playerVelocity.x) + Math.abs(playerVelocity.z));\r\n    // 如果有水平的运动，则设置运动的动作\r\n    if (\r\n      Math.abs(this.playerVelocity.x) + Math.abs(this.playerVelocity.z) > 0.1 &&\r\n      Math.abs(this.playerVelocity.x) + Math.abs(this.playerVelocity.z) <= 3\r\n    ) {\r\n      this.fadeToAction(\"Walking\");\r\n    } else if (\r\n      Math.abs(this.playerVelocity.x) + Math.abs(this.playerVelocity.z) >\r\n      3\r\n    ) {\r\n      this.fadeToAction(\"Running\");\r\n    } else {\r\n      this.fadeToAction(\"Idle\");\r\n    }\r\n  }\r\n  playerCollisions() {\r\n    // 人物碰撞检测\r\n    const result = this.worldOctree.capsuleIntersect(this.playerCollider);\r\n    // console.log(result);\r\n    this.playerOnFloor = false;\r\n    if (result) {\r\n      this.playerOnFloor = result.normal.y > 0;\r\n      this.playerCollider.translate(result.normal.multiplyScalar(result.depth));\r\n    }\r\n  }\r\n  resetPlayer() {\r\n    if (this.capsule.position.y < -20) {\r\n      this.playerCollider.start.set(0, 2.35, 0);\r\n      this.playerCollider.end.set(0, 3.35, 0);\r\n      this.playerCollider.radius = 0.35;\r\n      this.playerVelocity.set(0, 0, 0);\r\n      this.playerDirection.set(0, 0, 0);\r\n    }\r\n  }\r\n  fadeToAction(actionName) {\r\n    this.prevAction = this.activeAction;\r\n    this.activeAction = this.actions[actionName];\r\n    if (this.prevAction != this.activeAction) {\r\n      this.prevAction.fadeOut(0.3);\r\n      this.activeAction\r\n        .reset()\r\n        .setEffectiveTimeScale(1)\r\n        .setEffectiveWeight(1)\r\n        .fadeIn(0.3)\r\n        .play();\r\n\r\n      this.mixer.addEventListener(\"finished\", (e) => {\r\n        this.prevAction = activeAction;\r\n        this.activeAction = this.actions[\"Idle\"];\r\n        this.prevAction.fadeOut(0.3);\r\n        this.activeAction\r\n          .reset()\r\n          .setEffectiveTimeScale(1)\r\n          .setEffectiveWeight(1)\r\n          .fadeIn(0.3)\r\n          .play();\r\n      });\r\n    }\r\n  }\r\n  controlPlayer(deltaTime) {\r\n    if (this.keyStates[\"KeyW\"]) {\r\n      this.playerDirection.z = 1;\r\n      //获取胶囊的正前面方向\r\n      const capsuleFront = new THREE.Vector3(0, 0, 0);\r\n      this.capsule.getWorldDirection(capsuleFront);\r\n      // console.log(capsuleFront);\r\n      // 计算玩家的速度\r\n      // 当速度超过最大速度时，不操作\r\n      if (\r\n        this.playerVelocity.x * this.playerVelocity.x +\r\n          this.playerVelocity.z * this.playerVelocity.z <=\r\n        200\r\n      ) {\r\n        this.playerVelocity.add(capsuleFront.multiplyScalar(deltaTime * 5));\r\n      }\r\n    }\r\n    if (this.keyStates[\"KeyS\"]) {\r\n      this.playerDirection.z = 1;\r\n      //获取胶囊的正前面方向\r\n      const capsuleFront = new THREE.Vector3(0, 0, 0);\r\n      this.capsule.getWorldDirection(capsuleFront);\r\n      // console.log(capsuleFront);\r\n      // 计算玩家的速度\r\n      this.playerVelocity.add(capsuleFront.multiplyScalar(-deltaTime));\r\n    }\r\n    if (this.keyStates[\"KeyA\"]) {\r\n      this.playerDirection.x = 1;\r\n      //获取胶囊的正前面方向\r\n      const capsuleFront = new THREE.Vector3(0, 0, 0);\r\n      this.capsule.getWorldDirection(capsuleFront);\r\n\r\n      // 侧方的方向，正前面的方向和胶囊的正上方求叉积，求出侧方的方向\r\n      capsuleFront.cross(this.capsule.up);\r\n      // console.log(capsuleFront);\r\n      // 计算玩家的速度\r\n      this.playerVelocity.add(capsuleFront.multiplyScalar(-deltaTime));\r\n    }\r\n    if (this.keyStates[\"KeyD\"]) {\r\n      this.playerDirection.x = 1;\r\n      //获取胶囊的正前面方向\r\n      const capsuleFront = new THREE.Vector3(0, 0, 0);\r\n      this.capsule.getWorldDirection(capsuleFront);\r\n\r\n      // 侧方的方向，正前面的方向和胶囊的正上方求叉积，求出侧方的方向\r\n      capsuleFront.cross(this.capsule.up);\r\n      // console.log(capsuleFront);\r\n      // 计算玩家的速度\r\n      this.playerVelocity.add(capsuleFront.multiplyScalar(deltaTime));\r\n    }\r\n    if (this.keyStates[\"Space\"]) {\r\n      this.playerVelocity.y = 5;\r\n    }\r\n  }\r\n  update(delta) {\r\n    this.controlPlayer(delta);\r\n    this.updatePlayer(delta);\r\n    this.resetPlayer();\r\n    if (this.mixer) {\r\n      this.mixer.update(delta);\r\n    }\r\n    this.emitPositionEvent();\r\n  }\r\n  emitPositionEvent() {\r\n    this.eventPositionList.forEach((item, i) => {\r\n      // 计算胶囊距离某个点的距离，是否触发事件\r\n      const distanceToSquared = this.capsule.position.distanceToSquared(\r\n        item.position\r\n      );\r\n      if (\r\n        distanceToSquared < item.radius * item.radius &&\r\n        item.isInner == false\r\n      ) {\r\n        item.isInner = true;\r\n        item.callback && item.callback(item);\r\n      }\r\n\r\n      if (\r\n        distanceToSquared >= item.radius * item.radius &&\r\n        item.isInner == true\r\n      ) {\r\n        item.isInner = false;\r\n        item.outCallback && item.outCallback(item);\r\n      }\r\n    });\r\n  }\r\n  onPosition(position, callback, outCallback, radius = 2) {\r\n    position = position.clone();\r\n    this.eventPositionList.push({\r\n      position,\r\n      callback,\r\n      outCallback,\r\n      isInner: false,\r\n      radius,\r\n    });\r\n  }\r\n}\r\n","import * as THREE from \"three\";\r\nimport gsap from \"gsap\";\r\n\r\nexport default class VideoPlane {\r\n  constructor(\r\n    videoSrc,\r\n    size = new THREE.Vector2(1, 1),\r\n    position = new THREE.Vector3(0, 0, 0)\r\n  ) {\r\n    // 添加视频纹理\r\n    this.video = document.createElement(\"video\");\r\n    this.video.src = videoSrc;\r\n    // 如果想要视频能够自动播放，那么就设置为静音\r\n    this.video.muted = true;\r\n    this.video.loop = true;\r\n    this.video.play();\r\n    const texture = new THREE.VideoTexture(this.video);\r\n\r\n    // 创建一个平面\r\n    const planeGeometry = new THREE.PlaneGeometry(size.x, size.y, 1, 1);\r\n    const planeMaterial = new THREE.MeshBasicMaterial({\r\n      color: 0xffffff,\r\n      side: THREE.DoubleSide,\r\n      transparent: true,\r\n      blending: THREE.AdditiveBlending,\r\n      depthWrite: false,\r\n      map: texture,\r\n      alphaMap: texture,\r\n    });\r\n\r\n    this.mesh = new THREE.Mesh(planeGeometry, planeMaterial);\r\n    this.mesh.position.copy(position);\r\n  }\r\n}\r\n","import * as THREE from \"three\";\r\nimport { DRACOLoader } from \"three/examples/jsm/loaders/DRACOLoader\";\r\nimport { GLTFLoader } from \"three/examples/jsm/loaders/GLTFLoader\";\r\nimport gsap from \"gsap\";\r\n\r\nexport default class LightCircle {\r\n  constructor(\r\n    scene,\r\n\r\n    position = new THREE.Vector3(0, 0, 0),\r\n    scale = 1\r\n  ) {\r\n    // 添加视频纹理\r\n    let videoSrc = \"./video/zp2.mp4\";\r\n    this.video = document.createElement(\"video\");\r\n    this.video.src = videoSrc;\r\n    // 如果想要视频能够自动播放，那么就设置为静音\r\n    this.video.muted = true;\r\n    this.video.loop = true;\r\n    this.video.play();\r\n    const texture = new THREE.VideoTexture(this.video);\r\n    texture.repeat.set(9 / 16, 1);\r\n    texture.offset.set((1 - 9 / 16) / 2, 0);\r\n    this.gltfLoader(\"./model/lightCircle.glb\").then((gltf) => {\r\n      // 创建一个平面\r\n      this.mesh = gltf.scene.children[0];\r\n      const planeGeometry = gltf.scene.children[0].geometry;\r\n      this.mesh.material = new THREE.MeshBasicMaterial({\r\n        color: 0xffffff,\r\n        side: THREE.DoubleSide,\r\n        transparent: true,\r\n        blending: THREE.AdditiveBlending,\r\n        depthWrite: false,\r\n        map: texture,\r\n        alphaMap: texture,\r\n      });\r\n\r\n      this.mesh.position.copy(position);\r\n      this.mesh.scale.set(scale, scale * 1.5, scale);\r\n      scene.add(this.mesh);\r\n    });\r\n  }\r\n  gltfLoader(url) {\r\n    const gltfLoader = new GLTFLoader();\r\n    const dracoLoader = new DRACOLoader();\r\n    dracoLoader.setDecoderPath(\"./draco/gltf/\");\r\n    dracoLoader.setDecoderConfig({ type: \"js\" });\r\n    dracoLoader.preload();\r\n    gltfLoader.setDRACOLoader(dracoLoader);\r\n\r\n    return new Promise((resolve, reject) => {\r\n      gltfLoader.load(url, (gltf) => {\r\n        resolve(gltf);\r\n      });\r\n    });\r\n  }\r\n}\r\n","import * as THREE from \"three\";\r\n\r\nexport default class CanvasPlane {\r\n  constructor(\r\n    scene,\r\n    text = \"helloworld\",\r\n    position = new THREE.Vector3(0, 0, 0),\r\n    euler = new THREE.Euler(0, 0, 0)\r\n  ) {\r\n    // 创建canvas对象\r\n    const canvas = document.createElement(\"canvas\");\r\n    canvas.width = 1024;\r\n    canvas.height = 1024;\r\n    // canvas.style.position = \"absolute\";\r\n    // canvas.style.top = \"0px\";\r\n    // canvas.style.left = \"0px\";\r\n    // canvas.style.zIndex = \"1\";\r\n    // canvas.style.transformOrigin = \"0 0\";\r\n    // canvas.style.transform = \"scale(0.1)\";\r\n    const context = canvas.getContext(\"2d\");\r\n    this.context = context;\r\n    var image = new Image();\r\n    image.src = \"./textures/frame/frame2.png\";\r\n    image.onload = () => {\r\n      context.drawImage(image, 0, 0, 1024, 1024);\r\n      context.textAlign = \"center\";\r\n      context.textBaseline = \"middle\";\r\n      context.font = \"bold 100px Arial\";\r\n      context.fillStyle = \"rgba(0,255,255,1)\";\r\n      context.fillText(text, canvas.width / 2, canvas.height / 2);\r\n\r\n      let texture = new THREE.CanvasTexture(canvas);\r\n\r\n      const planeGeometry = new THREE.PlaneGeometry(2, 2, 1, 1);\r\n      const planeMaterial = new THREE.MeshBasicMaterial({\r\n        map: texture,\r\n        alphaMap: texture,\r\n        color: 0xffffff,\r\n        side: THREE.DoubleSide,\r\n        transparent: true,\r\n        blending: THREE.AdditiveBlending,\r\n        depthWrite: false,\r\n      });\r\n      this.mesh = new THREE.Mesh(planeGeometry, planeMaterial);\r\n      this.mesh.position.copy(position);\r\n      this.mesh.rotation.copy(euler);\r\n      scene.add(this.mesh);\r\n    };\r\n  }\r\n}\r\n","import * as THREE from \"three\";\r\n\r\nexport default class TextVideo {\r\n  constructor(\r\n    scene,\r\n    text = \"helloworld\",\r\n    position = new THREE.Vector3(0, 0, 0),\r\n    euler = new THREE.Euler(0, 0, 0)\r\n  ) {\r\n    this.text = text;\r\n    // 创建canvas对象\r\n    const canvas = document.createElement(\"canvas\");\r\n    this.canvas = canvas;\r\n    canvas.width = 1024;\r\n    canvas.height = 1024;\r\n    // canvas.style.position = \"absolute\";\r\n    // canvas.style.top = \"0px\";\r\n    // canvas.style.left = \"0px\";\r\n    // canvas.style.zIndex = \"1\";\r\n    // canvas.style.transformOrigin = \"0 0\";\r\n    // canvas.style.transform = \"scale(0.1)\";\r\n\r\n    const video = document.createElement(\"video\");\r\n    this.video = video;\r\n    video.src = \"./video/chatFrame.mp4\";\r\n    // 如果想要视频能够自动播放，那么就设置为静音\r\n    video.muted = true;\r\n    video.loop = true;\r\n    video.play();\r\n\r\n    const context = canvas.getContext(\"2d\");\r\n    this.context = context;\r\n    this.texture = new THREE.CanvasTexture(canvas);\r\n    const planeGeometry = new THREE.PlaneGeometry(2, 2, 1, 1);\r\n    this.planeMaterial = new THREE.MeshBasicMaterial({\r\n      map: this.texture,\r\n      alphaMap: this.texture,\r\n      color: 0xffffff,\r\n      side: THREE.DoubleSide,\r\n      transparent: true,\r\n      blending: THREE.AdditiveBlending,\r\n      depthWrite: false,\r\n    });\r\n    this.mesh = new THREE.Mesh(planeGeometry, this.planeMaterial);\r\n    this.mesh.position.copy(position);\r\n    this.mesh.rotation.copy(euler);\r\n    scene.add(this.mesh);\r\n  }\r\n\r\n  drawVideoText(text) {\r\n    let context = this.context;\r\n    context.clearRect(0, 0, this.canvas.width, this.canvas.height);\r\n    context.drawImage(this.video, 0, 0, 1024, 1024);\r\n    context.textAlign = \"center\";\r\n    context.textBaseline = \"middle\";\r\n    context.font = \"bold 100px Arial\";\r\n    context.fillStyle = \"rgba(0,255,255,1)\";\r\n    context.fillText(text, this.canvas.width / 2, this.canvas.height / 2);\r\n    this.texture.needsUpdate = true;\r\n    this.planeMaterial.needsUpdate = true;\r\n  }\r\n\r\n  update(deltaTime) {\r\n    this.drawVideoText(this.text);\r\n  }\r\n}\r\n","import * as THREE from \"three\";\r\nimport { PositionalAudioHelper } from \"three/examples/jsm/helpers/PositionalAudioHelper.js\";\r\nimport fragmentShader from \"./shader/FireSprite/fragment.glsl\";\r\n\r\nexport default class FireSprite {\r\n  constructor(\r\n    camera,\r\n    position = new THREE.Vector3(-4.9, 1.8, 25.1),\r\n    scale = 1\r\n  ) {\r\n    this.camera = camera;\r\n    // 着色器创建精灵材质\r\n    this.spriteMaterial = new THREE.ShaderMaterial({\r\n      uniforms: {\r\n        rotation: { value: 0 },\r\n        center: {\r\n          value: new THREE.Vector2(0.5, 0.5),\r\n        },\r\n        iTime: {\r\n          value: 0,\r\n        },\r\n        iResolution: {\r\n          value: new THREE.Vector2(1000, 1000),\r\n        },\r\n        iMouse: {\r\n          value: new THREE.Vector2(0, 0),\r\n        },\r\n        uFrequency: {\r\n          value: 0,\r\n        },\r\n      },\r\n      vertexShader: `\r\n      uniform float rotation;\r\n      uniform vec2 center;\r\n      varying vec2 vUv;\r\n      void main() {\r\n          vUv = uv;\r\n          vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\r\n          vec2 scale;\r\n          scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\r\n          scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\r\n          scale *= - mvPosition.z;\r\n          \r\n          vec2 alignedPosition = -( position.xy - ( center - vec2( 0.5 ) ) ) * scale/mvPosition.z;\r\n          vec2 rotatedPosition;\r\n          rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\r\n          rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\r\n          mvPosition.xy += rotatedPosition;\r\n          gl_Position = projectionMatrix * mvPosition;\r\n          gl_Position.z = -5.0;\r\n\r\n          \r\n      }\r\n      `,\r\n      fragmentShader: fragmentShader,\r\n      transparent: true,\r\n      blending: THREE.AdditiveBlending,\r\n      depthWrite: false,\r\n      //   depthTest: false,\r\n      side: THREE.DoubleSide,\r\n    });\r\n\r\n    // this.spriteMaterial = new THREE.SpriteMaterial({\r\n    //   map: new THREE.TextureLoader().load(\"./textures/effect/ke123.png\"),\r\n    //   blending: THREE.AdditiveBlending,\r\n    //   depthWrite: false,\r\n    //   depthTest: false,\r\n    //   side: THREE.DoubleSide,\r\n    // });\r\n\r\n    // this.spriteMaterial.onBeforeCompile = (shader) => {\r\n    // //   console.log(shader.vertexShader);\r\n    // };\r\n    // 创建精灵\r\n    this.sprite = new THREE.Sprite(this.spriteMaterial);\r\n    console.log(this.sprite.renderOrder);\r\n    this.sprite.renderOrder = 1;\r\n    this.sprite.position.copy(position);\r\n    // 设置精灵的大小\r\n    this.sprite.scale.set(scale, scale, scale);\r\n    this.mesh = this.sprite;\r\n\r\n    // 创建音乐\r\n    this.listener = new THREE.AudioListener(); // 声音监听器\r\n    this.sound = new THREE.PositionalAudio(this.listener); // 声音源\r\n    this.audioLoader = new THREE.AudioLoader();\r\n    this.audioLoader.load(\"./audio/gnzw.mp3\", (buffer) => {\r\n      this.sound.setBuffer(buffer);\r\n      this.sound.setRefDistance(10);\r\n      this.sound.setLoop(true);\r\n      this.sound.play();\r\n    });\r\n    // console.log(this.sound);\r\n    // const helper = new PositionalAudioHelper(this.sound, 10);\r\n    // this.sound.add(helper);\r\n    this.mesh.add(this.sound);\r\n\r\n    this.analyser = new THREE.AudioAnalyser(this.sound, 32);\r\n  }\r\n  update(deltaTime) {\r\n    let position = this.camera.localToWorld(new THREE.Vector3(0, 0, 0));\r\n    let distanceSquared = position.distanceToSquared(this.mesh.position);\r\n    this.sound.setVolume((1 / distanceSquared) * 200);\r\n    // console.log(distanceSquared);\r\n\r\n    let frequency = this.analyser.getAverageFrequency();\r\n    this.spriteMaterial.uniforms.uFrequency.value = frequency;\r\n    this.spriteMaterial.uniforms.iTime.value += deltaTime;\r\n  }\r\n}\r\n","/**\r\n * +微信  imax882  获取完整教程\r\n * 本教程持续更新 陈老安排到24年末  21年开始更新  已连续更新2年多了\r\n * 买到翻录残缺版本的 记得联系我购买完整版\r\n *\r\n * 认准：leaaiv.cn   获取全网更多教程\r\n * 学课大全 已成立十多年\r\n */\r\n\r\n\r\nimport * as THREE from \"three\";\r\n// 导入轨道控制器\r\nimport { OrbitControls } from \"three/examples/jsm/controls/OrbitControls\";\r\nimport { RGBELoader } from \"three/examples/jsm/loaders/RGBELoader\";\r\nimport { DRACOLoader } from \"three/examples/jsm/loaders/DRACOLoader\";\r\nimport { GLTFLoader } from \"three/examples/jsm/loaders/GLTFLoader\";\r\nimport { FBXLoader } from \"three/examples/jsm/loaders/FBXLoader.js\";\r\n// 导入后期效果合成器\r\nimport { EffectComposer } from \"three/examples/jsm/postprocessing/EffectComposer\";\r\n// three框架本身自带效果\r\nimport { RenderPass } from \"three/examples/jsm/postprocessing/RenderPass\";\r\nimport { DotScreenPass } from \"three/examples/jsm/postprocessing/DotScreenPass\";\r\nimport { SMAAPass } from \"three/examples/jsm/postprocessing/SMAAPass\";\r\nimport { SSAARenderPass } from \"three/examples/jsm/postprocessing/SSAARenderPass\";\r\nimport { GlitchPass } from \"three/examples/jsm/postprocessing/GlitchPass\";\r\nimport { UnrealBloomPass } from \"three/examples/jsm/postprocessing/UnrealBloomPass\";\r\nimport { ShaderPass } from \"three/examples/jsm/postprocessing/ShaderPass\";\r\n\r\nimport gsap from \"gsap\";\r\n\r\n// 导入云\r\nimport { Clouds, CloudsPlus } from \"./Clouds\";\r\n// 导入海洋\r\nimport Ocean from \"./Ocean\";\r\n// 导入八叉树物理碰撞类\r\nimport Physics from \"./Physics\";\r\n// 添加视频平面\r\nimport VideoPlane from \"./VideoPlane\";\r\n// 导入光环\r\nimport LightCircle from \"./LightCircle\";\r\n// 导入canvasplane\r\nimport CanvasPlane from \"./CanvasPlane\";\r\n// 导入canvasVideo\r\nimport TextVideo from \"./TextVideo\";\r\n// 导入FireSprite\r\nimport FireSprite from \"./FireSprite\";\r\n\r\nexport default class ThreePlus {\r\n  constructor(selector) {\r\n    // console.log(\"THREEPlus\");\r\n    this.mixers = [];\r\n    this.actions = [];\r\n    this.textVideoArrays = [];\r\n    this.clock = new THREE.Clock();\r\n    this.domElement = document.querySelector(selector);\r\n    this.width = this.domElement.clientWidth;\r\n    this.height = this.domElement.clientHeight;\r\n    this.updateMeshArr = [];\r\n    this.init();\r\n  }\r\n  init() {\r\n    // console.log(\"THREEPlus init\");\r\n    this.initScene();\r\n    this.initCamera();\r\n    this.initRenderer();\r\n    // this.initControl();\r\n    this.initEffect();\r\n    this.render();\r\n    // this.addAxis();\r\n    console.log(this.renderer.info);\r\n  }\r\n  initScene() {\r\n    this.scene = new THREE.Scene();\r\n  }\r\n  initCamera() {\r\n    this.camera = new THREE.PerspectiveCamera(\r\n      45,\r\n      this.width / this.height,\r\n      0.000001,\r\n      10000\r\n    );\r\n    this.camera.position.set(0, 10, 50);\r\n\r\n    this.camera.aspect = this.width / this.height;\r\n    //   更新摄像机的投影矩阵\r\n    this.camera.updateProjectionMatrix();\r\n  }\r\n  initRenderer() {\r\n    this.renderer = new THREE.WebGLRenderer({\r\n      logarithmicDepthBuffer: true,\r\n      antialias: true,\r\n    });\r\n    this.renderer.setSize(this.width, this.height);\r\n    this.renderer.shadowMap.enabled = true;\r\n    this.renderer.outputEncoding = THREE.sRGBEncoding;\r\n    this.renderer.physicallyCorrectLights = true;\r\n    this.renderer.toneMapping = THREE.ACESFilmicToneMapping;\r\n    this.renderer.toneMappingExposure = 0.75;\r\n    this.renderer.sortObjects = true;\r\n    this.domElement.appendChild(this.renderer.domElement);\r\n  }\r\n  initControl() {\r\n    this.control = new OrbitControls(this.camera, this.renderer.domElement);\r\n  }\r\n  render() {\r\n    let deltaTime = this.clock.getDelta();\r\n    // 更新mixers\r\n    for (let i = 0; i < this.mixers.length; i++) {\r\n      this.mixers[i].update(deltaTime * 0.2);\r\n    }\r\n    this.control && this.control.update();\r\n    // this.renderer.render(this.scene, this.camera);\r\n    if (this.physics) {\r\n      this.physics.update(deltaTime);\r\n    }\r\n    if (this.textVideoArrays.length > 0) {\r\n      for (let i = 0; i < this.textVideoArrays.length; i++) {\r\n        this.textVideoArrays[i].update(deltaTime);\r\n      }\r\n    }\r\n    if (this.updateMeshArr.length > 0) {\r\n      for (let i = 0; i < this.updateMeshArr.length; i++) {\r\n        this.updateMeshArr[i].update(deltaTime);\r\n      }\r\n    }\r\n    this.effectComposer.render();\r\n    requestAnimationFrame(this.render.bind(this));\r\n  }\r\n  gltfLoader(url) {\r\n    const gltfLoader = new GLTFLoader();\r\n    const dracoLoader = new DRACOLoader();\r\n    dracoLoader.setDecoderPath(\"./draco/gltf/\");\r\n    dracoLoader.setDecoderConfig({ type: \"js\" });\r\n    dracoLoader.preload();\r\n    gltfLoader.setDRACOLoader(dracoLoader);\r\n\r\n    return new Promise((resolve, reject) => {\r\n      gltfLoader.load(url, (gltf) => {\r\n        resolve(gltf);\r\n      });\r\n    });\r\n  }\r\n  fbxLoader(url) {\r\n    const fbxLoader = new FBXLoader();\r\n    return new Promise((resolve, reject) => {\r\n      fbxLoader.load(url, (fbx) => {\r\n        resolve(fbx);\r\n      });\r\n    });\r\n  }\r\n  hdrLoader(url) {\r\n    const hdrLoader = new RGBELoader();\r\n    return new Promise((resolve, reject) => {\r\n      hdrLoader.load(url, (hdr) => {\r\n        resolve(hdr);\r\n      });\r\n    });\r\n  }\r\n  setBg(url) {\r\n    this.hdrLoader(url).then((texture) => {\r\n      texture.mapping = THREE.EquirectangularReflectionMapping;\r\n      texture.anisotropy = 16;\r\n      texture.format = THREE.RGBAFormat;\r\n      this.scene.background = texture;\r\n      this.scene.environment = texture;\r\n    });\r\n  }\r\n  setLight() {\r\n    // 添加环境光\r\n\r\n    this.ambientLight = new THREE.AmbientLight(0xffffff, 0.2);\r\n    this.scene.add(this.ambientLight);\r\n    const light1 = new THREE.DirectionalLight(0xffffff, 0.1);\r\n    light1.position.set(0, 10, 10);\r\n    const light2 = new THREE.DirectionalLight(0xffffff, 0.1);\r\n    light2.position.set(0, 10, -10);\r\n    const light3 = new THREE.DirectionalLight(0xffffff, 0.6);\r\n    light3.position.set(10, 10, 10);\r\n    light1.castShadow = true;\r\n    light2.castShadow = true;\r\n    light3.castShadow = true;\r\n    light1.shadow.mapSize.width = 10240;\r\n    light1.shadow.mapSize.height = 10240;\r\n    light2.shadow.mapSize.width = 10240;\r\n    light2.shadow.mapSize.height = 10240;\r\n    light3.shadow.mapSize.width = 10240;\r\n    light3.shadow.mapSize.height = 10240;\r\n    this.scene.add(light1, light2, light3);\r\n  }\r\n  initEffect() {\r\n    // 合成效果\r\n    this.effectComposer = new EffectComposer(this.renderer);\r\n    this.effectComposer.setSize(window.innerWidth, window.innerHeight);\r\n\r\n    // 添加渲染通道\r\n    const renderPass = new RenderPass(this.scene, this.camera);\r\n    this.effectComposer.addPass(renderPass);\r\n\r\n    // 点效果\r\n    // const dotScreenPass = new DotScreenPass();\r\n    // dotScreenPass.enabled = false;\r\n    // effectComposer.addPass(dotScreenPass);\r\n\r\n    // 抗锯齿\r\n    // const smaaPass = new SMAAPass();\r\n    // this.effectComposer.addPass(smaaPass);\r\n\r\n    // // 发光效果\r\n    // this.unrealBloomPass = new UnrealBloomPass();\r\n    // this.effectComposer.addPass(this.unrealBloomPass);\r\n  }\r\n  // 添加云效果\r\n  addClouds() {\r\n    let clouds = new Clouds();\r\n    this.scene.add(clouds.mesh);\r\n  }\r\n  addCloudsPlus() {\r\n    let clouds = new CloudsPlus();\r\n    this.scene.add(clouds.mesh);\r\n  }\r\n  addOcean() {\r\n    let ocean = new Ocean();\r\n    this.scene.add(ocean.mesh);\r\n  }\r\n  // 添加辅助坐标轴\r\n  addAxis() {\r\n    let axis = new THREE.AxesHelper(20);\r\n    this.scene.add(axis);\r\n  }\r\n  addPhysics(planeGroup) {\r\n    this.physics = new Physics(planeGroup, this.camera, this.scene);\r\n    return this.physics;\r\n  }\r\n  addVideoPlane(url, size, position) {\r\n    let videoPlane = new VideoPlane(url, size, position);\r\n    this.scene.add(videoPlane.mesh);\r\n    return videoPlane;\r\n  }\r\n  addLightCircle(position, scale) {\r\n    let lightCircle = new LightCircle(this.scene, position, scale);\r\n    return lightCircle;\r\n  }\r\n  addCanvasPlane(text, position, euler) {\r\n    let canvasPlane = new CanvasPlane(this.scene, text, position, euler);\r\n    return canvasPlane;\r\n  }\r\n  addTextVideo(url, position, euler) {\r\n    let textVideo = new TextVideo(this.scene, url, position, euler);\r\n    this.textVideoArrays.push(textVideo);\r\n    return textVideo;\r\n  }\r\n  addFireSprite(position, scale) {\r\n    let fireSprite = new FireSprite(this.camera, position, scale);\r\n    this.scene.add(fireSprite.mesh);\r\n    this.updateMeshArr.push(fireSprite);\r\n    return fireSprite;\r\n  }\r\n}\r\n","import Mitt from \"mitt\";\r\n\r\nconst eventHub = new Mitt();\r\n\r\nexport default eventHub;\r\n","<template>\n  <div class=\"home\" ref=\"screenDom\">\n    <div class=\"canvas-container\"></div>\n  </div>\n</template>\n\n<script setup>\nimport { onMounted, onUnmounted, ref } from \"vue\";\nimport ThreePlus from \"../three/index\";\nimport * as THREE from \"three\";\nimport eventHub from \"@/utils/eventHub\";\n\nlet screenDom = ref(null);\nconst resizeFn = () => {\n  // console.log(screenDom);\n  let scale = window.innerWidth / 1920;\n  screenDom.value.style.transform = `scale(${scale})`;\n};\nonMounted(() => {\n  resizeFn();\n  window.addEventListener(\"resize\", resizeFn);\n});\n\nonMounted(() => {\n  const container = document.querySelector(\".canvas-container\");\n  let threePlus = new ThreePlus(\".canvas-container\");\n  threePlus.setBg(\"./assets/textures/sky11.hdr\");\n\n  // 添加云雾效果\n  // threePlus.addClouds();\n  threePlus.addCloudsPlus();\n\n  // 添加海洋\n  threePlus.addOcean();\n\n  // 加载模型\n  threePlus.gltfLoader(\"./model/city/metaScene03.glb\").then((gltf) => {\n    // console.log(gltf);\n\n    let planeGroup = new THREE.Group();\n    planeGroup.position.copy(gltf.scene.children[0].position);\n    gltf.scene.add(planeGroup);\n    gltf.scene.traverse((child) => {\n      if (\n        child.isMesh &&\n        child.material &&\n        child.material.name.indexOf(\"KB3D_DLA_ConcreteRiverRock\") != -1\n      ) {\n        // console.log(\"地面\", child);\n        // child.material.color.set(0xffffff);\n        // child.material.map = null;\n        planeGroup.add(child.clone());\n        child.visible = false;\n      }\n      if (\n        child.isMesh &&\n        child.material &&\n        child.material.name.indexOf(\"KB3D_DLA_ConcreteScreedTan\") != -1\n      ) {\n        // console.log(\"墙\", child);\n        planeGroup.add(child.clone());\n        child.visible = false;\n      }\n      if (\n        child.isMesh &&\n        child.material &&\n        child.material.name.indexOf(\"KB3D_DLA_ConcretePittedGrayLight\") != -1\n      ) {\n        // console.log(\"光墙\", child);\n        planeGroup.add(child.clone());\n        child.visible = false;\n      }\n    });\n    threePlus.addPhysics(planeGroup);\n    threePlus.scene.add(gltf.scene);\n\n    // 添加测试视频平面\n    // threePlus.addVideoPlane(\"./video/test.mp4\");\n    let dirPlane = threePlus.addVideoPlane(\n      \"./video/arrow.mp4\",\n      new THREE.Vector2(2, 2)\n    );\n    dirPlane.mesh.position.set(-1.5, 3, 2);\n\n    // dirPlane.mesh.rotation.x = -Math.PI / 2;\n    dirPlane.mesh.rotation.z = -Math.PI / 2;\n\n    // 添加喷泉旁的光阵视频纹理\n    // let lightPlane = threePlus.addVideoPlane(\n    //   \"./video/zp2.mp4\",\n    //   new THREE.Vector2(5, 3),\n    //   new THREE.Vector3(-3, -0.3, 15)\n    // );\n    // lightPlane.mesh.rotation.x = -Math.PI / 2;\n    let lightCirclePosition = new THREE.Vector3(-3, -0.3, 15);\n    let lightCircle = threePlus.addLightCircle(lightCirclePosition);\n    let fireSprite = null;\n    // 监听是否进入光阵\n    threePlus.physics.onPosition(\n      lightCirclePosition,\n      (eventData) => {\n        console.log(\"触发进入光圈\");\n        lightCircle.mesh.visible = false;\n        let canvasPosition = new THREE.Vector3(-3, 1.3, 18);\n        let canvasRotation = new THREE.Euler(0, Math.PI, 0);\n        // let canvasPlane = threePlus.addCanvasPlane(\n        //   \"恭喜到达指定位置\",\n        //   canvasPosition,\n        //   canvasRotation\n        // );\n\n        let textVideo = threePlus.addTextVideo(\n          \"恭喜到达指定位置\",\n          canvasPosition,\n          canvasRotation\n        );\n\n        // 添加火焰\n        fireSprite || (fireSprite = threePlus.addFireSprite());\n      },\n      (eventData) => {\n        console.log(\"触发离开光圈\");\n        lightCircle.mesh.visible = true;\n      }\n    );\n  });\n\n  // 添加灯光\n  threePlus.setLight();\n});\n</script>\n\n<style>\n.home {\n  width: 1920px;\n  height: 1080px;\n  transform-origin: 0 0;\n}\n.canvas-container {\n  width: 100%;\n  height: 100%;\n}\n</style>\n","import script from \"./HomeView.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./HomeView.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./HomeView.vue?vue&type=style&index=0&id=4024f12c&lang=css\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { createRouter, createWebHashHistory } from 'vue-router'\nimport HomeView from '../views/HomeView.vue'\n\nconst routes = [\n  {\n    path: '/',\n    name: 'home',\n    component: HomeView\n  },\n  {\n    path: '/about',\n    name: 'about',\n    // route level code-splitting\n    // this generates a separate chunk (about.[hash].js) for this route\n    // which is lazy-loaded when the route is visited.\n    component: () => import(/* webpackChunkName: \"about\" */ '../views/AboutView.vue')\n  }\n]\n\nconst router = createRouter({\n  history: createWebHashHistory(),\n  routes\n})\n\nexport default router\n","import { createStore } from 'vuex'\n\nexport default createStore({\n  state: {\n  },\n  getters: {\n  },\n  mutations: {\n  },\n  actions: {\n  },\n  modules: {\n  }\n})\n","import { createApp } from 'vue'\r\nimport App from './App.vue'\r\nimport router from './router'\r\nimport store from './store'\r\n\r\ncreateApp(App).use(store).use(router).mount('#app')\r\n","module.exports = \"//\\r\\n// Description : Array and textureless GLSL 2D/3D/4D simplex \\r\\n//\\t\\t\\t\\t\\t\\t\\t noise functions.\\r\\n//\\t\\t\\tAuthor : Ian McEwan, Ashima Arts.\\r\\n//\\tMaintainer : ijm\\r\\n//\\t\\t Lastmod : 20110822 (ijm)\\r\\n//\\t\\t License : Copyright (C) 2011 Ashima Arts. All rights reserved.\\r\\n//\\t\\t\\t\\t\\t\\t\\t Distributed under the MIT License. See LICENSE file.\\r\\n//\\t\\t\\t\\t\\t\\t\\t https://github.com/ashima/webgl-noise\\r\\n// \\r\\n\\r\\nuniform vec2 iResolution;\\r\\nuniform float iTime;\\r\\nvarying vec2 vUv;\\r\\nuniform vec2 iMouse;\\r\\nuniform float uFrequency;\\r\\n\\r\\nvec3 mod289(vec3 x) {\\r\\n\\treturn x - floor(x * (1.0 / 289.0)) * 289.0;\\r\\n}\\r\\n\\r\\nvec4 mod289(vec4 x) {\\r\\n\\treturn x - floor(x * (1.0 / 289.0)) * 289.0;\\r\\n}\\r\\n\\r\\nvec4 permute(vec4 x) {\\r\\n\\t\\t return mod289(((x*34.0)+1.0)*x);\\r\\n}\\r\\n\\r\\nvec4 taylorInvSqrt(vec4 r)\\r\\n{\\r\\n\\treturn 1.79284291400159 - 0.85373472095314 * r;\\r\\n}\\r\\n\\r\\nfloat snoise(vec3 v)\\r\\n\\t{ \\r\\n\\tconst vec2\\tC = vec2(1.0/6.0, 1.0/3.0) ;\\r\\n\\tconst vec4\\tD = vec4(0.0, 0.5, 1.0, 2.0);\\r\\n\\r\\n// First corner\\r\\n\\tvec3 i\\t= floor(v + dot(v, C.yyy) );\\r\\n\\tvec3 x0 =\\t v - i + dot(i, C.xxx) ;\\r\\n\\r\\n// Other corners\\r\\n\\tvec3 g = step(x0.yzx, x0.xyz);\\r\\n\\tvec3 l = 1.0 - g;\\r\\n\\tvec3 i1 = min( g.xyz, l.zxy );\\r\\n\\tvec3 i2 = max( g.xyz, l.zxy );\\r\\n\\r\\n\\t//\\t x0 = x0 - 0.0 + 0.0 * C.xxx;\\r\\n\\t//\\t x1 = x0 - i1\\t+ 1.0 * C.xxx;\\r\\n\\t//\\t x2 = x0 - i2\\t+ 2.0 * C.xxx;\\r\\n\\t//\\t x3 = x0 - 1.0 + 3.0 * C.xxx;\\r\\n\\tvec3 x1 = x0 - i1 + C.xxx;\\r\\n\\tvec3 x2 = x0 - i2 + C.yyy; // 2.0*C.x = 1/3 = C.y\\r\\n\\tvec3 x3 = x0 - D.yyy;\\t\\t\\t// -1.0+3.0*C.x = -0.5 = -D.y\\r\\n\\r\\n// Permutations\\r\\n\\ti = mod289(i); \\r\\n\\tvec4 p = permute( permute( permute( \\r\\n\\t\\t\\t\\t\\t\\t i.z + vec4(0.0, i1.z, i2.z, 1.0 ))\\r\\n\\t\\t\\t\\t\\t + i.y + vec4(0.0, i1.y, i2.y, 1.0 )) \\r\\n\\t\\t\\t\\t\\t + i.x + vec4(0.0, i1.x, i2.x, 1.0 ));\\r\\n\\r\\n// Gradients: 7x7 points over a square, mapped onto an octahedron.\\r\\n// The ring size 17*17 = 289 is close to a multiple of 49 (49*6 = 294)\\r\\n\\tfloat n_ = 0.142857142857; // 1.0/7.0\\r\\n\\tvec3\\tns = n_ * D.wyz - D.xzx;\\r\\n\\r\\n\\tvec4 j = p - 49.0 * floor(p * ns.z * ns.z);\\t//\\tmod(p,7*7)\\r\\n\\r\\n\\tvec4 x_ = floor(j * ns.z);\\r\\n\\tvec4 y_ = floor(j - 7.0 * x_ );\\t\\t// mod(j,N)\\r\\n\\r\\n\\tvec4 x = x_ *ns.x + ns.yyyy;\\r\\n\\tvec4 y = y_ *ns.x + ns.yyyy;\\r\\n\\tvec4 h = 1.0 - abs(x) - abs(y);\\r\\n\\r\\n\\tvec4 b0 = vec4( x.xy, y.xy );\\r\\n\\tvec4 b1 = vec4( x.zw, y.zw );\\r\\n\\r\\n\\t//vec4 s0 = vec4(lessThan(b0,0.0))*2.0 - 1.0;\\r\\n\\t//vec4 s1 = vec4(lessThan(b1,0.0))*2.0 - 1.0;\\r\\n\\tvec4 s0 = floor(b0)*2.0 + 1.0;\\r\\n\\tvec4 s1 = floor(b1)*2.0 + 1.0;\\r\\n\\tvec4 sh = -step(h, vec4(0.0));\\r\\n\\r\\n\\tvec4 a0 = b0.xzyw + s0.xzyw*sh.xxyy ;\\r\\n\\tvec4 a1 = b1.xzyw + s1.xzyw*sh.zzww ;\\r\\n\\r\\n\\tvec3 p0 = vec3(a0.xy,h.x);\\r\\n\\tvec3 p1 = vec3(a0.zw,h.y);\\r\\n\\tvec3 p2 = vec3(a1.xy,h.z);\\r\\n\\tvec3 p3 = vec3(a1.zw,h.w);\\r\\n\\r\\n//Normalise gradients\\r\\n\\t//vec4 norm = taylorInvSqrt(vec4(dot(p0,p0), dot(p1,p1), dot(p2, p2), dot(p3,p3)));\\r\\n\\tvec4 norm = inversesqrt(vec4(dot(p0,p0), dot(p1,p1), dot(p2, p2), dot(p3,p3)));\\r\\n\\tp0 *= norm.x;\\r\\n\\tp1 *= norm.y;\\r\\n\\tp2 *= norm.z;\\r\\n\\tp3 *= norm.w;\\r\\n\\r\\n// Mix final noise value\\r\\n\\tvec4 m = max(0.6 - vec4(dot(x0,x0), dot(x1,x1), dot(x2,x2), dot(x3,x3)), 0.0);\\r\\n\\tm = m * m;\\r\\n\\treturn 42.0 * dot( m*m, vec4( dot(p0,x0), dot(p1,x1), \\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tdot(p2,x2), dot(p3,x3) ) );\\r\\n\\t}\\r\\n\\r\\n//////////////////////////////////////////////////////////////\\r\\n\\r\\n// PRNG\\r\\n// From https://www.shadertoy.com/view/4djSRW\\r\\nfloat prng(in vec2 seed) {\\r\\n\\tseed = fract (seed * vec2 (5.3983, 5.4427));\\r\\n\\tseed += dot (seed.yx, seed.xy + vec2 (21.5351, 14.3137));\\r\\n\\treturn fract (seed.x * seed.y * 95.4337);\\r\\n}\\r\\n\\r\\n//////////////////////////////////////////////////////////////\\r\\n\\r\\nfloat PI = 3.1415926535897932384626433832795;\\r\\n\\r\\nfloat noiseStack(vec3 pos,int octaves,float falloff){\\r\\n\\tfloat noise = snoise(vec3(pos));\\r\\n\\tfloat off = 1.0;\\r\\n\\tif (octaves>1) {\\r\\n\\t\\tpos *= 2.0;\\r\\n\\t\\toff *= falloff;\\r\\n\\t\\tnoise = (1.0-off)*noise + off*snoise(vec3(pos));\\r\\n\\t}\\r\\n\\tif (octaves>2) {\\r\\n\\t\\tpos *= 2.0;\\r\\n\\t\\toff *= falloff;\\r\\n\\t\\tnoise = (1.0-off)*noise + off*snoise(vec3(pos));\\r\\n\\t}\\r\\n\\tif (octaves>3) {\\r\\n\\t\\tpos *= 2.0;\\r\\n\\t\\toff *= falloff;\\r\\n\\t\\tnoise = (1.0-off)*noise + off*snoise(vec3(pos));\\r\\n\\t}\\r\\n\\treturn (1.0+noise)/2.0;\\r\\n}\\r\\n\\r\\nvec2 noiseStackUV(vec3 pos,int octaves,float falloff,float diff){\\r\\n\\tfloat displaceA = noiseStack(pos,octaves,falloff);\\r\\n\\tfloat displaceB = noiseStack(pos+vec3(3984.293,423.21,5235.19),octaves,falloff);\\r\\n\\treturn vec2(displaceA,displaceB);\\r\\n}\\r\\n\\r\\nvoid main(  ) {\\r\\n    float time = iTime;\\r\\n    vec2 resolution = iResolution.xy;\\r\\n\\tvec2 drag = iMouse.xy;\\r\\n\\tvec2 offset = iMouse.xy;\\r\\n\\t\\t//\\r\\n\\tfloat xpart = vUv.x*1000.0/resolution.x;\\r\\n\\tfloat ypart = vUv.y*1000.0/resolution.y;\\r\\n\\t//\\r\\n\\tfloat clip = 210.0;\\r\\n\\r\\n    float fireStrength =1.0 - uFrequency/100.0;\\r\\n\\tfloat ypartClip = vUv.y*1000.0/clip * fireStrength;\\r\\n\\tfloat ypartClippedFalloff = clamp(2.0-ypartClip,0.0,1.0);\\r\\n\\tfloat ypartClipped = min(ypartClip,1.0);\\r\\n\\tfloat ypartClippedn = 1.0-ypartClipped;\\r\\n\\t//\\r\\n\\tfloat xfuel = 1.0-abs(2.0*xpart-1.0);//pow(1.0-abs(2.0*xpart-1.0),0.5);\\r\\n\\t//\\r\\n\\tfloat timeSpeed = 0.5;\\r\\n\\tfloat realTime = timeSpeed*time;\\r\\n\\t//\\r\\n\\tvec2 coordScaled = 0.01*gl_FragCoord.xy - 0.02*vec2(offset.x,0.0);\\r\\n\\tvec3 position = vec3(coordScaled,0.0) + vec3(1223.0,6434.0,8425.0);\\r\\n\\tvec3 flow = vec3(4.1*(0.5-xpart)*pow(ypartClippedn,4.0),-2.0*xfuel*pow(ypartClippedn,64.0),0.0);\\r\\n\\tvec3 timing = realTime*vec3(0.0,-1.7,1.1) + flow;\\r\\n\\t//\\r\\n\\tvec3 displacePos = vec3(1.0,0.5,1.0)*2.4*position+realTime*vec3(0.01,-0.7,1.3);\\r\\n\\tvec3 displace3 = vec3(noiseStackUV(displacePos,2,0.4,0.1),0.0);\\r\\n\\t//\\r\\n\\tvec3 noiseCoord = (vec3(2.0,1.0,1.0)*position+timing+0.4*displace3)/1.0;\\r\\n\\tfloat noise = noiseStack(noiseCoord,3,0.4);\\r\\n\\t//\\r\\n\\tfloat flames = pow(ypartClipped,0.3*xfuel)*pow(noise,0.3*xfuel);\\r\\n\\t//\\r\\n\\tfloat f = ypartClippedFalloff*pow(1.0-flames*flames*flames,8.0);\\r\\n\\tfloat fff = f*f*f;\\r\\n\\tvec3 fire = 1.5*vec3(f, fff, fff*fff);\\r\\n\\t//\\r\\n\\t// smoke\\r\\n\\tfloat smokeNoise = 0.5+snoise(0.4*position+timing*vec3(1.0,1.0,0.2))/2.0;\\r\\n\\tvec3 smoke = vec3(0.3*pow(xfuel,3.0)*pow(ypart,2.0)*(smokeNoise+0.4*(1.0-noise)));\\r\\n\\t//\\r\\n\\t// sparks\\r\\n\\tfloat sparkGridSize = 30.0;\\r\\n\\tvec2 sparkCoord = gl_FragCoord.xy - vec2(2.0*offset.x,190.0*realTime);\\r\\n\\tsparkCoord -= 30.0*noiseStackUV(0.01*vec3(sparkCoord,30.0*time),1,0.4,0.1);\\r\\n\\tsparkCoord += 100.0*flow.xy;\\r\\n\\tif (mod(sparkCoord.y/sparkGridSize,2.0)<1.0) sparkCoord.x += 0.5*sparkGridSize;\\r\\n\\tvec2 sparkGridIndex = vec2(floor(sparkCoord/sparkGridSize));\\r\\n\\tfloat sparkRandom = prng(sparkGridIndex);\\r\\n\\tfloat sparkLife = min(10.0*(1.0-min((sparkGridIndex.y+(190.0*realTime/sparkGridSize))/(24.0-20.0*sparkRandom),1.0)),1.0);\\r\\n\\tvec3 sparks = vec3(0.0);\\r\\n\\tif (sparkLife>0.0) {\\r\\n\\t\\tfloat sparkSize = xfuel*xfuel*sparkRandom*0.08;\\r\\n\\t\\tfloat sparkRadians = 999.0*sparkRandom*2.0*PI + 2.0*time;\\r\\n\\t\\tvec2 sparkCircular = vec2(sin(sparkRadians),cos(sparkRadians));\\r\\n\\t\\tvec2 sparkOffset = (0.5-sparkSize)*sparkGridSize*sparkCircular;\\r\\n\\t\\tvec2 sparkModulus = mod(sparkCoord+sparkOffset,sparkGridSize) - 0.5*vec2(sparkGridSize);\\r\\n\\t\\tfloat sparkLength = length(sparkModulus);\\r\\n\\t\\tfloat sparksGray = max(0.0, 1.0 - sparkLength/(sparkSize*sparkGridSize));\\r\\n\\t\\tsparks = sparkLife*sparksGray*vec3(1.0,0.3,0.0);\\r\\n\\t}\\r\\n\\t//\\r\\n\\t// gl_FragColor = vec4(max(fire,sparks)+smoke,(1.0-vUv.y));\\r\\n    gl_FragColor = vec4(max(fire,sparks)+smoke,1.0);\\r\\n\\tgl_FragColor.a = gl_FragColor.r*(1.0-vUv.y);\\r\\n\\r\\n}\"","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = function(chunkId) {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce(function(promises, key) {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks\n__webpack_require__.u = function(chunkId) {\n\t// return url for filenames based on template\n\treturn \"js/\" + \"about\" + \".\" + \"c8c0c4d6\" + \".js\";\n};","// This function allow to reference async chunks\n__webpack_require__.miniCssF = function(chunkId) {\n\t// return url for filenames based on template\n\treturn undefined;\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","var inProgress = {};\nvar dataWebpackPrefix = \"meta-city:\";\n// loadScript function to load a script via script tag\n__webpack_require__.l = function(url, done, key, chunkId) {\n\tif(inProgress[url]) { inProgress[url].push(done); return; }\n\tvar script, needAttach;\n\tif(key !== undefined) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tfor(var i = 0; i < scripts.length; i++) {\n\t\t\tvar s = scripts[i];\n\t\t\tif(s.getAttribute(\"src\") == url || s.getAttribute(\"data-webpack\") == dataWebpackPrefix + key) { script = s; break; }\n\t\t}\n\t}\n\tif(!script) {\n\t\tneedAttach = true;\n\t\tscript = document.createElement('script');\n\n\t\tscript.charset = 'utf-8';\n\t\tscript.timeout = 120;\n\t\tif (__webpack_require__.nc) {\n\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n\t\t}\n\t\tscript.setAttribute(\"data-webpack\", dataWebpackPrefix + key);\n\n\t\tscript.src = url;\n\t}\n\tinProgress[url] = [done];\n\tvar onScriptComplete = function(prev, event) {\n\t\t// avoid mem leaks in IE.\n\t\tscript.onerror = script.onload = null;\n\t\tclearTimeout(timeout);\n\t\tvar doneFns = inProgress[url];\n\t\tdelete inProgress[url];\n\t\tscript.parentNode && script.parentNode.removeChild(script);\n\t\tdoneFns && doneFns.forEach(function(fn) { return fn(event); });\n\t\tif(prev) return prev(event);\n\t}\n\tvar timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);\n\tscript.onerror = onScriptComplete.bind(null, script.onerror);\n\tscript.onload = onScriptComplete.bind(null, script.onload);\n\tneedAttach && document.head.appendChild(script);\n};","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.p = \"/meta-hotel/\";","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t524: 0\n};\n\n__webpack_require__.f.j = function(chunkId, promises) {\n\t\t// JSONP chunk loading for javascript\n\t\tvar installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;\n\t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n\t\t\t// a Promise means \"currently loading\".\n\t\t\tif(installedChunkData) {\n\t\t\t\tpromises.push(installedChunkData[2]);\n\t\t\t} else {\n\t\t\t\tif(true) { // all chunks have JS\n\t\t\t\t\t// setup Promise in chunk cache\n\t\t\t\t\tvar promise = new Promise(function(resolve, reject) { installedChunkData = installedChunks[chunkId] = [resolve, reject]; });\n\t\t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n\t\t\t\t\t// start chunk loading\n\t\t\t\t\tvar url = __webpack_require__.p + __webpack_require__.u(chunkId);\n\t\t\t\t\t// create error before stack unwound to get useful stacktrace later\n\t\t\t\t\tvar error = new Error();\n\t\t\t\t\tvar loadingEnded = function(event) {\n\t\t\t\t\t\tif(__webpack_require__.o(installedChunks, chunkId)) {\n\t\t\t\t\t\t\tinstalledChunkData = installedChunks[chunkId];\n\t\t\t\t\t\t\tif(installedChunkData !== 0) installedChunks[chunkId] = undefined;\n\t\t\t\t\t\t\tif(installedChunkData) {\n\t\t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n\t\t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n\t\t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n\t\t\t\t\t\t\t\terror.type = errorType;\n\t\t\t\t\t\t\t\terror.request = realSrc;\n\t\t\t\t\t\t\t\tinstalledChunkData[1](error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t__webpack_require__.l(url, loadingEnded, \"chunk-\" + chunkId, chunkId);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n};\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkmeta_city\"] = self[\"webpackChunkmeta_city\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [504], function() { return __webpack_require__(2793); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["_createBlock","_component_router_view","script","__exports__","render","Clouds","constructor","height","num","size","scale","autoRotate","textureLoader","THREE","map1","load","map2","map3","material1","map","color","alphaMap","transparent","blending","depthWrite","depthTest","material2","material3","this","materials","mesh","i","index","Math","floor","random","material","sprite","randomSize","set","randomX","randomY","randomZ","position","add","animate","gsap","to","rotation","duration","repeat","y","PI","CloudsPlus","material4","push","length","geometry","generateGeometry","points","vertices","setAttribute","traverse","item","speed","Ocean","radius","waterGeometry","water","Water","textureWidth","textureHeight","flowDirection","x","renderOrder","fragmentShader","replace","Physics","planeGroup","camera","scene","eventPositionList","worldOctree","Octree","fromGraphNode","playerCollider","Capsule","loader","GLTFLoader","mixer","actions","activeAction","gltf","robot","capsule","animations","name","clipAction","clampWhenFinished","loop","play","console","log","backCamera","window","innerWidth","innerHeight","lookAt","capsuleBodyControl","gravity","playerVelocity","playerDirection","keyStates","KeyW","KeyA","KeyS","KeyD","Space","isDown","playerOnFloor","document","addEventListener","event","code","activeCamera","fadeToAction","body","requestPointerLock","movementX","movementY","updatePlayer","deltaTime","damping","addScaledVector","playerMoveDistance","clone","multiplyScalar","translate","getCenter","playerCollisions","abs","z","result","capsuleIntersect","normal","depth","resetPlayer","start","end","actionName","prevAction","fadeOut","reset","setEffectiveTimeScale","setEffectiveWeight","fadeIn","e","controlPlayer","capsuleFront","getWorldDirection","cross","up","update","delta","emitPositionEvent","forEach","distanceToSquared","isInner","callback","outCallback","onPosition","VideoPlane","videoSrc","video","createElement","src","muted","texture","planeGeometry","planeMaterial","side","copy","LightCircle","offset","gltfLoader","then","children","url","dracoLoader","DRACOLoader","setDecoderPath","setDecoderConfig","type","preload","setDRACOLoader","Promise","resolve","reject","CanvasPlane","text","euler","canvas","width","context","getContext","image","Image","onload","drawImage","textAlign","textBaseline","font","fillStyle","fillText","TextVideo","drawVideoText","clearRect","needsUpdate","FireSprite","spriteMaterial","uniforms","value","center","iTime","iResolution","iMouse","uFrequency","vertexShader","listener","sound","audioLoader","buffer","setBuffer","setRefDistance","setLoop","analyser","localToWorld","distanceSquared","setVolume","frequency","getAverageFrequency","ThreePlus","selector","mixers","textVideoArrays","clock","domElement","querySelector","clientWidth","clientHeight","updateMeshArr","init","initScene","initCamera","initRenderer","initEffect","renderer","info","aspect","updateProjectionMatrix","logarithmicDepthBuffer","antialias","setSize","shadowMap","enabled","outputEncoding","physicallyCorrectLights","toneMapping","toneMappingExposure","sortObjects","appendChild","initControl","control","OrbitControls","getDelta","physics","effectComposer","requestAnimationFrame","bind","fbxLoader","FBXLoader","fbx","hdrLoader","RGBELoader","hdr","setBg","mapping","anisotropy","format","background","environment","setLight","ambientLight","light1","light2","light3","castShadow","shadow","mapSize","EffectComposer","renderPass","RenderPass","addPass","addClouds","clouds","addCloudsPlus","addOcean","ocean","addAxis","axis","addPhysics","addVideoPlane","videoPlane","addLightCircle","lightCircle","addCanvasPlane","canvasPlane","addTextVideo","textVideo","addFireSprite","fireSprite","Mitt","screenDom","ref","resizeFn","style","transform","onMounted","threePlus","child","isMesh","indexOf","visible","dirPlane","lightCirclePosition","eventData","canvasPosition","canvasRotation","routes","path","component","HomeView","router","createRouter","history","createWebHashHistory","createStore","state","getters","mutations","modules","createApp","App","use","store","mount","module","exports","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","m","deferred","O","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","j","Object","keys","every","key","splice","r","n","getter","__esModule","d","a","definition","o","defineProperty","enumerable","get","f","chunkId","all","reduce","promises","u","miniCssF","g","globalThis","Function","obj","prop","prototype","hasOwnProperty","call","inProgress","dataWebpackPrefix","l","done","needAttach","scripts","getElementsByTagName","s","getAttribute","charset","timeout","nc","onScriptComplete","prev","onerror","clearTimeout","doneFns","parentNode","removeChild","setTimeout","target","head","Symbol","toStringTag","p","installedChunks","installedChunkData","promise","error","Error","loadingEnded","errorType","realSrc","message","request","webpackJsonpCallback","parentChunkLoadingFunction","data","moreModules","runtime","some","id","chunkLoadingGlobal","self","__webpack_exports__"],"sourceRoot":""}